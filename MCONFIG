# Configuration makefile
#

# Destination directories
ROOTBINDIR=/bin
BINDIR=/usr/bin
SBINDIR=/usr/sbin
MANDIR=/usr/man

# Install permissions
BINMODE=755
DAEMONMODE=744
SUIDMODE=4755
ROOTMODE=700
MANMODE=644

#
# Are you using GNU libc? (eg, Alpha Linux or libc 6.x)
# (Failure to set this if you are will result in things not building.)
#USE_GLIBC=1

# Do you want to have GNU readline and history support in 'ftp'. Use
# cursor keys to get your last commands.
# There are a number of versions of GNU readline floating around. 
# The recommended one at the moment is readline-2.0, which is
# available separately on GNU ftp sites. 
#
# *** You will need to apply the enclosed patch to readline-2.0 to get 
# correct ^C handling from ftp. 
#
# The ftp makefile assumes the headers are installed in 
# /usr/include/readline (or /usr/local/include/readline) and the 
# readline library itself is someplace where the linker can find it.
# If this doesn't apply, edit ftp/Makefile to taste.
#
# Note: some versions of readline don't install tilde.h, which is
# needed. Install it manually if necessary. 
#
USE_GNU_READLINE=1


#
# Do you want to use the PAM (Pluggable Authentication Modules) system
# for password lookups? Uncomment this if so. This is believed to work
# in the current release.
#USE_PAM=1

#
# Do you want support for shadow passwords? This may or may not work,
# and may or may not be necessary depending on your system configuration.
# It is meaningless if USE_PAM is on.
#USE_SHADOW=1

#
# If you don't want to see the exact options being passed to the compiler,
# set this to 1.
QUIET=0


####
#
# Compiler configuration
# Note that some directories may add stuff, and a few don't honor these.
# If you take out the __USE_BSD_SIGNAL, things will probably not work.
#
# On the PowerPC, you probably want to add -fsigned-char to CFLAGS.
#

# On alphas you may want to take out -Wcast-align for now.
WARNINGS=-Wall -W -Wpointer-arith -Wbad-function-cast -Wcast-qual \
	 -Wstrict-prototypes -Wmissing-prototypes \
	 -Wmissing-declarations -Wnested-externs -Winline -Wcast-align

# Linux libc's /usr/include isn't clean with these.
# -Wredundant-decls      (there are a number of such in /usr/include)
# -Wshadow               (this, C++, stat(), and struct stat don't get along)
# -Wwrite-strings        (arpa/telnet.h and protocols/timed.h fail)

CC=gcc
CFLAGS=-O2 -pipe $(WARNINGS) -D__USE_BSD_SIGNAL
LDFLAGS=
LIBS=
# You could also use "YACC=yacc", if you have BSD yacc.
YACC=bison -y

ifeq ($(USE_GLIBC),1)
CFLAGS += -DGNU_LIBC -D_GNU_SOURCE
endif

# 
# Choose which curses and termcap libraries to use. The makefiles in
# directories that use curses or termcap reference these settings.

LIBCURSES=-lncurses
LIBTERMCAP=-lncurses
#LIBCURSES=-lcurses -ltermcap
#LIBTERMCAP=-ltermcap


